import 'package:cloud_functions/cloud_functions.dart';

Future<int> getClosestDistance(List<int> array) async {
  if (array.length != 128) {
    throw ArgumentError('vector dimension needs to be 128');
  }

  var res = await CloudFunctions.instance
      .call(functionName: 'helloWorld', parameters: {
//        'vector': array
    'vector': testData,
  });
  print(res);
  return res['distance'];
}

const testData = [
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130,
  127,
  126,
  127,
  125,
  122,
  135,
  114,
  122,
  131,
  130
];